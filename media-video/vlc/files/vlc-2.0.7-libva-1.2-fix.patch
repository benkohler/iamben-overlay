diff -ur vlc-2.0.7/modules/codec/avcodec/vaapi.c vlc-2.0.7.new/modules/codec/avcodec/vaapi.c
--- vlc-2.0.7/modules/codec/avcodec/vaapi.c	2013-09-26 12:15:59.769825985 -0500
+++ vlc-2.0.7.new/modules/codec/avcodec/vaapi.c	2013-09-26 12:19:17.336460812 -0500
@@ -39,6 +39,11 @@
 #include "va.h"
 #include "copy.h"
 
+#ifndef VA_SURFACE_ATTRIB_SETTABLE
+#define vaCreateSurfaces(d, f, w, h, s, ns, a, na) \
+    vaCreateSurfaces(d, w, h, f, ns, s)
+#endif
+
 #ifdef HAVE_AVCODEC_VAAPI
 
 #include <vlc_xlib.h>
@@ -246,8 +251,8 @@
 
     /* Create surfaces */
     VASurfaceID pi_surface_id[p_va->i_surface_count];
-    if( vaCreateSurfaces( p_va->p_display, i_width, i_height, VA_RT_FORMAT_YUV420,
-                          p_va->i_surface_count, pi_surface_id ) )
+    if( vaCreateSurfaces( p_va->p_display, VA_RT_FORMAT_YUV420, i_width, i_height,
+        pi_surface_id, p_va->i_surface_count, NULL, 0 ) )
     {
         for( int i = 0; i < p_va->i_surface_count; i++ )
             p_va->p_surface[i].i_id = VA_INVALID_SURFACE;
